# Cursor Rules - VortexBot

## Project: VortexBot
Algorithmic mean-reversion trading bot with AI decision layer. Instrument-agnostic, config-driven, **hybrid Python/Node.js architecture**.

## Current Focus
VIX 75 (Deriv) mean-reversion strategy - Phase 1: Hardware Audit & Model Setup

## Hybrid Architecture
**Node.js** → Live trading (Deriv WebSocket, real-time streaming, execution, risk enforcement)
**Python** → Backtesting & research (historical analysis, backtesting, ML models, optimization)

## Core Principles
- Risk First: 1% max risk per trade, enforced by code
- Config-Driven: No hardcoded symbols or parameters
- Instrument-Agnostic: Core logic reusable across instruments
- Human-in-the-Loop: LLM suggests, human approves
- Brutal Honesty: Log everything, including failures
- Use the Right Tool: Live trading = Node.js, Backtesting/ML = Python

## Project Structure
node/ - Live trading (config, instruments, strategies, core/risk-engine, models/llm)
python/ - Backtesting & research (backtest, strategies, models/ml, notebooks)
data/ - Shared historical and tick data
logs/ - Shared trade logs and backtest results
journal/ - SQLite trade journal

## Tech Stack
Node.js | technicalindicators | Deriv WebSocket | Ollama
Python | Backtrader/VectorBT | Pandas/NumPy | scikit-learn/XGBoost | Jupyter
SQLite | CSV/Parquet data files

## Constraints When Coding
- Use config files for all parameters
- All trades pass through node/core/risk-engine.js
- Log everything: wins, losses, errors, decisions
- Never silently swallow errors
- Code must work offline (backtest mode)
- Live trading in Node.js, backtesting/ML in Python

## Prohibited
- Hardcoded trading symbols
- Risk > 1%
- Silent failures
- Trading without backtested edge
- Writing backtests in Node.js when Python is more suitable

## Context Files
PERPLEXITY_SPACE_SYSTEM_PROMPT.md - Full strategy
node/config/v75-mean-reversion.js - Current config
node/core/risk-engine.js - Risk validation
python/requirements.txt - Python deps
